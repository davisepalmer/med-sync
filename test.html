<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resources</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    /* Style the tab buttons */
    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
    }

    /* Style the buttons inside the tab */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ddd;
    }

    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ccc;
    }

    /* Style the tab content */
    .tabcontent {
      display: none;
      padding: 20px;
      border: 1px solid #ccc;
      border-top: none;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-dark bg-primary">
  <div class="d-flex justify-content-between align-items-center w-100">
    <a class="navbar-brand" href="#">MediConnect</a>
    <ul class="navbar-nav flex-row">
      <li class="nav-item ml-3">
        <a class="nav-link text-white" href="/resources">Resources</a>
      </li>
      <li class="nav-item ml-3">
        <a class="nav-link text-white" href="/diagnosis">Diagnosis</a>
      </li>
      <li class="nav-item ml-3">
        <a class="nav-link text-white" href="/settings">Settings</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container">
  <h1 class="mt-4">Resources</h1>

  <div class="tab">
    <button class="tablinks" onclick="openTab(event, 'supplyRequests')">Supply Requests</button>
    <button class="tablinks" onclick="openTab(event, 'supplyGivers')">Supply Givers</button>
  </div>

  <!-- Tab content for supply requests -->
  <div id="supplyRequests" class="tabcontent">
    <!-- Create New Supply Request Button -->
    <button type="button" class="btn btn-primary mb-3" data-toggle="modal" data-target="#createSupplyModal">Create New Supply Request</button>

    <!-- Modal for Create New Supply Request -->
    <div class="modal fade" id="createSupplyModal" tabindex="-1" role="dialog" aria-labelledby="createSupplyModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="createSupplyModalLabel">Create New Supply Request</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Form fields for creating new supply request -->
            <form id="createSupplyForm">
              <div class="form-group">
                <label for="supplyName">Supply Name</label>
                <input type="text" class="form-control" id="supplyName" />
              </div>
              <div class="form-group">
                <label for="quantity">Quantity</label>
                <input type="number" class="form-control" id="quantity" />
              </div>
              <div class="form-group">
                <label for="requestedBy">Requested By</label>
                <input type="text" class="form-control" id="requestedBy" />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="submitSupply">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Supply Table for Requests -->
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Supply Name</th>
          <th scope="col">Quantity</th>
          <th scope="col">Requested By</th>
          <th scope="col"></th>
          <!-- Empty header for the "Give" button column -->
        </tr>
      </thead>
      <tbody>
        {% for supply in supply_requests %}
        <tr>
          <td>{{ supply.item }}</td>
          <td>{{ supply.quantity }}</td>
          <td>{{ supply.originHosp }}</td>
          <td><button type="button" class="btn btn-primary">Give</button></td>
          <!-- Button to give supply -->
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- Tab content for supply givers -->
  <div id="supplyGivers" class="tabcontent">
    <!-- Supply Table for Givers -->
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Supply Name</th>
          <th scope="col">Quantity</th>
          <th scope="col">Origin Hospital</th>
          <th scope="col"></th>
          <!-- Empty header for the "Request" button column -->
        </tr>
      </thead>
      <tbody>
        {% for supply in supply_givers %}
        <tr>
          <td>{{ supply.item }}</td>
          <td>{{ supply.quantity }}</td>
          <td>{{ supply.originHosp }}</td>
          <td><button type="button" class="btn btn-success">Request</button></td>
          <!-- Button to request supply -->
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById